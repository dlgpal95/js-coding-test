## 오픈채팅방

<hr/>

### :heavy_check_mark: 내가 푼 답안

```javascript
function solution(record) {
  let answer = [];
  let result = [];
  let idMap = new Map();

  record.map((e) => {
    let arr = e.split(' ');

    if (arr[0] == 'Enter') {
      idMap.set(arr[1], arr[2]);
      result.push(`${arr[1]} 들어왔습니다.`);
    } else if (arr[0] == 'Leave') {
      result.push(`${arr[1]} 나갔습니다.`);
    } else {
      idMap.set(arr[1], arr[2]);
    }
  });
  result.map((e) => {
    let el = e.split(' ');
    answer.push(`${idMap.get(el[0])}님이 ${el[1]}`);
  });

  return answer;
}
```

result에는 아이디+ 들어왔습니다 or 나갔습니다를 저장한다.  
idMap에는 아이디와 닉네임을 저장한다(Map사용으로 중복이면 덮여쓰기 됨)

그러고 result를 for문 돌려서 id에 있는 닉네임값으로 바꿔주었다.

<hr/>

### :heavy_check_mark: 참고하면 좋은 다른 답안

Thanks for https://programmers.co.kr/learn/courses/30/lessons/42888/solution_groups?language=javascript

```javascript
function solution(record) {
  const userInfo = {};
  const action = [];
  const stateMapping = {
    Enter: '님이 들어왔습니다.',
    Leave: '님이 나갔습니다.'
  };

  record.forEach((v) => {
    const [state, id, nick] = v.split(' ');

    if (state !== 'Change') {
      action.push([state, id]);
    }

    if (nick) {
      userInfo[id] = nick;
    }
  });

  return action.map(([state, uid]) => {
    return `${userInfo[uid]}${stateMapping[state]}`;
  });
}
```

구조할당도 으로 깔끔하게 split을 사용했고.  
if(nick)을 사용해서 나갈때 빼고 nick을 저장해주었다.  
그리고 for문으로 ,, 방식은 비슷한데 훨씬 깔끔하고 가독성이 좋다..

<br/>
